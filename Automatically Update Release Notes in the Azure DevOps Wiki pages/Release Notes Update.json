{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Bug","assignToRequestor":"true","additionalFields":"{}"}}],"variables":{"AccessToken":{"value":null,"isSecret":true},"basicB64Token":{"value":null,"isSecret":true},"system.debug":{"value":"true","allowOverride":true},"WikiPath":{"value":"https://dev.azure.com/KohithFS/Customers/_wiki/wikis/Customers.wiki?wikiVersion=GBwikiMaster&pageId=1&pagePath=%2FWiki%20Page%201"},"WikiUri":{"value":"https://dev.azure.com/KohithFS/Customers/_wiki/wikis"}},"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/KohithFS/33fa9850-7a81-457c-87ce-1dd8a83d7527/_apis/build/Definitions/136?revision=31"},"web":{"href":"https://dev.azure.com/KohithFS/33fa9850-7a81-457c-87ce-1dd8a83d7527/_build/definition?definitionId=136"},"editor":{"href":"https://dev.azure.com/KohithFS/33fa9850-7a81-457c-87ce-1dd8a83d7527/_build/designer?id=136&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/KohithFS/33fa9850-7a81-457c-87ce-1dd8a83d7527/_apis/build/status/136"}},"jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"badgeEnabled":true,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Generate release notes copy","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"661bc005-61be-430f-b994-065bf08c0f39","versionSpec":"3.*","definitionType":"task"},"inputs":{"outputfile":"$(System.DefaultWorkingDirectory)\\releasenotes.md","outputVariableName":"","templateLocation":"InLine","templatefile":"","inlinetemplate":"**Build Number**  : $($build.buildnumber)    \n**Build started** : $(\"{0:dd/MM/yy HH:mm:ss}\" -f [datetime]$build.startTime)     \n**Source Branch** : $($build.sourceBranch)  \n###Associated work items  \n@@WILOOP@@  \n* #$($widetail.id)\n@@WILOOP@@  \n###Associated change sets/commits  \n@@CSLOOP@@  \n* **ID $($csdetail.changesetid)$($csdetail.commitid)** \n  >$($csdetail.comment)    \n@@CSLOOP@@","usedefaultcreds":"False","emptySetText":"None","generateForOnlyPrimary":"False","generateForCurrentRelease":"true","overrideStageName":"","maxWi":"50","maxChanges":"50","appendToFile":"False","showParents":"False","wiFilter":"","wiStateFilter":"","unifiedList":"False"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"PowerShell Script copy","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"#$pat='wgtlqvlljjkdg44nsz76ub6zqva2i4k43366eu4up5vn7resjcqa'\n$pat='$(AccessToken)'\n$token = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes(\"PAT:$pat\"))\n$headers = @{\n    'Authorization' = \"Basic $token\"\n}\n\n$content = [IO.File]::ReadAllText(\"$(System.DefaultWorkingDirectory)\\releasenotes.md\")\n\n#$contentPackage = [IO.File]::ReadAllText(\"$(System.DefaultWorkingDirectory)\\package.json\") | ConvertFrom-Json;\n\n#$data = @{content=$content;} | ConvertTo-Json;\n\n$data = @{content=$content;} | ConvertTo-Json;\n\nwrite-host $data\n\n#ConvertPAT Token\n#$accesstoken = $env:basicB64Token;\n\n# Base64-encodes the Personal Access Token (PAT) appropriately\n$base64AuthInfo = [Convert]::ToBase64String([Text.Encoding]::ASCII.GetBytes((\"{0}:{1}\" -f \"\",$basicB64Token)))\n\n#$headers = @{authorization=(\"Basic {0}\" -f $base64AuthInfo)}\n\n#$headers = @{authorization=(\"Basic {0}\" -f $accesstoken)}\n\n\n#$params = @{uri = '$(WikiPath)';\n#  Method = 'PUT';  \n#  headers = @{authorization=(\"Basic {0}\" -f $base64AuthInfo)}\n#  ContentType = \"application/json\";\n#  Body = $data;\n#}\n\n\n$urlAdd=\"https://dev.azure.com/KohithFS/Customers/_apis/wiki/wikis/Customers.wiki/pages/?path=/Release Notes/testwiki-$(Build.buildnumber)-$(get-date -f MM-dd-yyyy_HH_mm_ss)&api-version=5.0\"\nInvoke-WebRequest -Method PUT -Uri \"$urlAdd\" -Headers $headers -ContentType \"application/json\" -Body \"$data\"\n","errorActionPreference":"continue","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}}],"name":"Agent job 1","refName":"Job_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"6cd2e264-ccd4-4e60-8cb1-4d0aad761d77","type":"TfsGit","name":"CodeCoverage","url":"https://dev.azure.com/KohithFS/Customers/_git/CodeCoverage","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Kohith Reddy Thummala","url":"https://spsprodea1.vssps.visualstudio.com/A58da1bb0-b1ce-4418-944a-bc857960f09e/_apis/Identities/1a27fe06-b7e5-6521-a484-72861aebca99","_links":{"avatar":{"href":"https://dev.azure.com/KohithFS/_apis/GraphProfile/MemberAvatars/aad.MWEyN2ZlMDYtYjdlNS03NTIxLWE0ODQtNzI4NjFhZWJjYTk5"}},"id":"1a27fe06-b7e5-6521-a484-72861aebca99","uniqueName":"kohith@microsoft.com","imageUrl":"https://dev.azure.com/KohithFS/_apis/GraphProfile/MemberAvatars/aad.MWEyN2ZlMDYtYjdlNS03NTIxLWE0ODQtNzI4NjFhZWJjYTk5","descriptor":"aad.MWEyN2ZlMDYtYjdlNS03NTIxLWE0ODQtNzI4NjFhZWJjYTk5"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/KohithFS/_apis/build/Queues/332"}},"id":332,"name":"LinuxAgents","url":"https://dev.azure.com/KohithFS/_apis/build/Queues/332","pool":{"id":17,"name":"LinuxAgents"}},"id":136,"name":"Release Notes Update","url":"https://dev.azure.com/KohithFS/33fa9850-7a81-457c-87ce-1dd8a83d7527/_apis/build/Definitions/136?revision=31","uri":"vstfs:///Build/Definition/136","path":"\\","type":2,"queueStatus":0,"revision":31,"createdDate":"2019-11-14T19:20:23.403Z","project":{"id":"33fa9850-7a81-457c-87ce-1dd8a83d7527","name":"Customers","url":"https://dev.azure.com/KohithFS/_apis/projects/33fa9850-7a81-457c-87ce-1dd8a83d7527","state":1,"revision":445,"visibility":2,"lastUpdateTime":"2019-11-11T13:06:41.780Z"}}